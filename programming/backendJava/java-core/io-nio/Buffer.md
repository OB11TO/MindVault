---
title: Buffer
tags:
  - IO-NIO
related_topics: 
created: 2024-09-10 17:59
modified: 2024-09-10T18:01:55+03:00
questions: 
notes: 
links: 
---
### Buffer

Класс `Buffer` в пакете `java.nio` представляет буфер для чтения и записи данных. Буфер является контейнером для элементов определенного типа данных, таких как байты, символы и примитивные значения. Он предоставляет методы для удобного доступа и манипулирования данными.

Вот основные методы и свойства класса `Buffer`:

- `capacity()`: Возвращает емкость буфера, т.е. максимальное количество элементов, которое буфер может содержать.
- `position()`: Возвращает текущую позицию в буфере, т.е. индекс следующего элемента, который будет считываться или записываться.
- `limit()`: Возвращает предел буфера, т.е. индекс первого непрочитанного или незаписанного элемента.
- `mark()`: Устанавливает метку в текущую позицию.
- `reset()`: Восстанавливает позицию на ранее установленную метку.
- `flip()`: Меняет предел с текущей позиции на текущую позицию, а текущую позицию на 0. Это готовит буфер к чтению после записи.
- `rewind()`: Устанавливает текущую позицию в 0, сохраняя предел и емкость неизменными. Это готовит буфер к повторному чтению или записи.
- `clear()`: Очищает буфер путем установки текущей позиции в 0, предела в емкость и сброса метки. Это готовит буфер к записи после чтения.
- `hasRemaining()`: Проверяет, есть ли еще непрочитанные или незаписанные элементы в буфере.
- `remaining()`: Возвращает количество оставшихся элементов, которые можно прочитать или записать.

Пример использования класса `Buffer` для чтения и записи данных:

```Java
import java.nio.Buffer;
import java.nio.ByteBuffer;

public class BufferExample {
    public static void main(String[] args) {
        // Создание буфера
        ByteBuffer buffer = ByteBuffer.allocate(10);

        // Запись данных в буфер
        buffer.put((byte) 1);
        buffer.put((byte) 2);
        buffer.put((byte) 3);

        // Подготовка буфера для чтения
        buffer.flip();

        // Чтение данных из буфера
        while (buffer.hasRemaining()) {
            byte data = buffer.get();
            System.out.println(data);
        }

        // Очистка буфера
        buffer.clear();
    }
}
```

### Подклассы `Buffer` для разных типов данных:

1. `ByteBuffer`: Подкласс `ByteBuffer` предназначен для работы с байтовыми данными. Он предоставляет методы для чтения и записи байтов в буфер.
2. `CharBuffer`: Подкласс `CharBuffer` предназначен для работы с символьными данными. Он предоставляет методы для чтения и записи символов в буфер.
3. `ShortBuffer`: Подкласс `ShortBuffer` предназначен для работы с короткими целыми числами (short). Он предоставляет методы для чтения и записи short-значений в буфер.
4. `IntBuffer`: Подкласс `IntBuffer` предназначен для работы с целыми числами (int). Он предоставляет методы для чтения и записи int-значений в буфер.
5. `LongBuffer`: Подкласс `LongBuffer` предназначен для работы с длинными целыми числами (long). Он предоставляет методы для чтения и записи long-значений в буфер.
6. `FloatBuffer`: Подкласс `FloatBuffer` предназначен для работы с числами с плавающей запятой одинарной точности (float). Он предоставляет методы для чтения и записи float-значений в буфер.
7. `DoubleBuffer`: Подкласс `DoubleBuffer` предназначен для работы с числами с плавающей запятой двойной точности (double). Он предоставляет методы для чтения и записи double-значений в буфер.

Каждый из этих подклассов имеет свои уникальные методы и свойства, специфичные для работы с соответствующим типом данных. Все они имеют общие методы и свойства, унаследованные от базового класса `Buffer`, такие как `capacity()`, `position()`, `limit()` и другие, которые позволяют управлять данными в буфере.